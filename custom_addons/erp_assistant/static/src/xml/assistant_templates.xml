<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <!-- Template for the Floating Assistant Button -->
    <t t-name="erp_assistant.FloatingButton" owl="1">
        <button class="erp-assistant-float-button o_erp_assistant_button" t-on-click="_onButtonClick">
            <!-- Using a simple icon, could be replaced with an image or SVG -->
            <i class="fa fa-question-circle" role="img" aria-label="ERP Assistant" title="ERP Assistant"/>
        </button>
    </t>

    <!-- Template for the Assistant Panel -->
    <t t-name="erp_assistant.AssistantPanel" owl="1">
        <div t-attf-class="erp-assistant-panel {{ state.isOpen ? \"o_open\" : \"\" }}">
            <div class="erp-assistant-header">
                <h5>ERP Assistant</h5>
                <button class="erp-assistant-close-button" t-on-click="_onCloseClick" aria-label="Close">
                    &times;
                </button>
            </div>
            <div class="erp-assistant-body">
                <p t-if="state.isLoading">Loading context...</p>
                <div t-if="!state.isLoading">
                    <p><strong>Current View:</strong> <t t-esc="state.contextInfo.view_type || \"N/A\""/></p>
                    <p><strong>Model:</strong> <t t-esc="state.contextInfo.model || \"N/A\""/></p>
                    <p t-if="state.contextInfo.record_id"><strong>Record ID:</strong> <t t-esc="state.contextInfo.record_id"/></p>
                    <p t-if="state.contextInfo.record_name"><strong>Record Name:</strong> <t t-esc="state.contextInfo.record_name"/></p>
                    <!-- More contextual info can be added here -->
                    <hr t-if="state.contextInfo.model"/>
                    <p t-if="state.contextInfo.model">Ask a question about this <t t-esc="state.contextInfo.model"/> record:</p>
                </div>
            </div>
            <div class="erp-assistant-footer" t-if="!state.isLoading and state.contextInfo.model">
                <input type="text" class="erp-assistant-input" placeholder="e.g., What is the status?" t-on-keyup="_onInputKeyup"/>
            </div>
        </div>
    </t>

</templates>

